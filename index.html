<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fuel Price Forecast</title>
  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#f5a623" />
  <link rel="icon" href="icons/icon-192.png" />
  <link rel="stylesheet" href="style.css" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="FuelCalc">
  <link rel="apple-touch-icon" href="/fuel-widget/icons/icon-192.png">

</head>
<body>
  <div id="fuelForecast">
    <div id="logoCenter">
      <div id="logoContainer">
        <img id="logo" src="https://res.cloudinary.com/de7az0vxl/image/upload/v1751550382/Mzansi_Fuel_Logo_2_2x_lrztus.png" alt="MzansiFuel_Logo">
    </div>
    </div>  
    <h2 class="center-heading">Live Fuel Price Forecast</h2>
    <div class="controls">
      <select class="selector" id="fuelType"></select>
      <select class="selector" id="region"></select>
    </div>
    <div id="warning" style="color: red; font-weight: bold; margin-bottom: 10px;"></div>
      <button id="installButton" style="display: none; margin: 20px auto; padding: 10px 20px; font-size: 1rem; border-radius: 8px; background-color: #F5A623; color: white; border: none; cursor: pointer;">
        Install Widget
      </button>
    <div id="iosPrompt">
      <div id="iosPromptBar">
      üì± Install this app: Tap 
      <span><strong>Share</strong> 
        <img src="https://res.cloudinary.com/de7az0vxl/image/upload/v1751614892/Ios-Share--Streamline-Outlined-Material-Symbols_uga1df.png" alt="Share Icon"> 
        then ‚Äú<strong>Add to Home Screen</strong>‚Äù
      </span>
      </div>
    </div>

    <div id="priceInfo">
      <div class="price-widget">
        <div class="price-box previous-price">
          <p><strong>Previous Price:</strong></p>
          <span id="previousPrice">--</span> R/L
        </div>

        <div class="price-box current-price">
          <p><strong>Current Price:</strong></p>
          <span id="currentPrice">--</span> R/L
        </div>

        <div class="price-box predicted-price">
          <p><strong>Predicted Price:</strong></p>
          <span id="predictedPrice">--</span> R/L
        </div>
      </div>
        <div id="priceChangeRow">
          <p><strong>Change:</strong>               <span id="priceChange">--               </span> R <span             id="arrow">‚ûñ</span></p>
        </div>
      <div class="createdBy">created by <a href="https://www.mzansifuel.co.za">mzansifuel.co.za</a></div>
    </div>
  </div>
  <script src="script.js"></script>
  <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker
      .register("service-worker.js")
      .then(() => console.log("‚úÖ Service Worker registered"))
      .catch(error => console.error("‚ùå Service Worker failed", error));
  }
</script>
<script>
  const isIos = /iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase());
  const isInStandalone = ('standalone' in window.navigator) && window.navigator.standalone;

  if (isIos && !isInStandalone) {
    const banner = document.getElementById('iosPrompt');
    banner.style.display = 'block';

    banner.addEventListener('click', () => {
      banner.style.display = 'none';
    });
  }
</script>
  

</body>
